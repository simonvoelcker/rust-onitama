{"version":3,"sources":["context/AppContext.js","components/panels/Cell.js","components/panels/Card.js","components/panels/Player.js","components/panels/Field.js","components/views/WelcomeDialog.js","components/views/GameOverDialog.js","components/views/Game.js","App.js","index.js"],"names":["$axios","axios","create","baseURL","timeout","headers","AppContext","React","createContext","AppProvider","props","state","gameId","game","selection","fromPosition","targetPosition","cardName","options","selectableOptions","mutations","startNewGame","post","then","response","setState","data","getGame","getOptions","get","clearSelection","pickOption","optionIndex","onCellClick","piece","position","player","current_player","setOrKeepSelection","onCardClick","this","setSelection","filterSelectionOptions","length","indexOf","filter","option","from_position","x","y","target_position","card","name","Provider","value","children","Component","AppConsumer","Consumer","Cell","from","context","target","is_master","className","getClasses","onClick","src","getImageSrc","alt","contextType","Card","classes","mini","toLowerCase","Player","playerIndex","parseInt","public_card","players","cards","Field","cellIndex","field","pieces","map","getCell","WelcomeDialog","GameOverDialog","win","messages","Math","floor","random","getRandomMessage","Game","App","path","component","exact","to","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0d5e04da.chunk.js","sourcesContent":["import React, { Component } from 'react'\n\nimport axios from 'axios'\n\nconst $axios = axios.create({ baseURL: '/api/', timeout: 10000, headers: { 'Content-Type': 'application/json' }})\n\nexport const AppContext = React.createContext()\n\nexport class AppProvider extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      gameId: null,\n      game: null,\n      selection: {\n        fromPosition: null,\n        targetPosition: null,\n        cardName: null,\n      },\n      options: null, // options from game server\n      selectableOptions: [], // options filtered down by selection\n    }\n\n    this.mutations = {\n      startNewGame: () => {\n        return $axios.post('/games').then((response) => {\n          this.setState({gameId: response.data})\n          this.mutations.getGame(response.data)\n          this.mutations.getOptions(response.data)\n        })\n      },\n      getGame: (gameId) => {\n        return $axios.get('/games/' + gameId).then((response) => {\n          this.setState({game: response.data})\n        })\n      },\n      getOptions: (gameId) => {\n        return $axios.get('/games/' + gameId + '/options').then((response) => {\n          this.setState({options: response.data})\n          this.clearSelection()\n        })\n      },\n      pickOption: (optionIndex) => {\n        return $axios.post('/games/' + this.state.gameId + '/options/' + optionIndex).then((response) => {\n          this.mutations.getGame(this.state.gameId)\n          this.mutations.getOptions(this.state.gameId)\n        })\n      },\n      onCellClick: (piece, position) => {\n        if (piece && piece.player === this.state.game.current_player) {\n          // own piece clicked -> from_position selected\n          this.setOrKeepSelection(position, null, null)\n        } else {\n          // either opponent piece clicked or no piece at all -> target_position selected\n          this.setOrKeepSelection(null, position, null)\n        }\n      },\n      onCardClick: (cardName) => {\n        this.setOrKeepSelection(null, null, cardName)\n      },\n    }\n  }\n\n  setOrKeepSelection (fromPosition, targetPosition, cardName) {\n    let selection = {\n      fromPosition: fromPosition || this.state.selection.fromPosition,\n      targetPosition: targetPosition || this.state.selection.targetPosition,\n      cardName: cardName || this.state.selection.cardName,\n    }\n    this.setSelection(selection)\n  }\n\n  setSelection(selection) {\n    // apply selection change only if we'll have at least one option after this\n    let selectableOptions = this.filterSelectionOptions(selection)\n    if (selectableOptions.length > 0) {\n      this.setState({\n        selection: selection,\n        selectableOptions: selectableOptions,\n      })\n\n      if (selection.fromPosition !== null &&\n          selection.targetPosition !== null &&\n          selection.cardName !== null &&\n          selectableOptions.length === 1) {\n        // everything selected, apply!\n        let optionIndex = this.state.options.indexOf(selectableOptions[0])\n        this.mutations.pickOption(optionIndex)\n      }\n    } else {\n      this.clearSelection()\n    }\n  }\n\n  clearSelection () {\n    this.setState({\n      selection: {\n        fromPosition: null,\n        targetPosition: null,\n        cardName: null,\n      },\n      selectableOptions: this.state.options,\n    })\n  }\n\n  filterSelectionOptions (selection) {\n    let filteredOptions = this.state.options.filter(option => {\n      if (selection.fromPosition !== null && (\n          option.from_position.x !== selection.fromPosition.x ||\n          option.from_position.y !== selection.fromPosition.y)) {\n        return false\n      }\n      if (selection.targetPosition !== null && (\n          option.target_position.x !== selection.targetPosition.x ||\n          option.target_position.y !== selection.targetPosition.y)) {\n        return false\n      }\n      if (selection.cardName !== null && option.card.name !== selection.cardName) {\n        return false\n      }\n      return true\n    })\n    return filteredOptions\n  }\n\n  render () {\n    return (\n      <AppContext.Provider value={{ state: this.state, mutations: this.mutations }}>\n        {this.props.children}\n      </AppContext.Provider>\n    )\n  }\n}\n\nexport const AppConsumer = AppContext.Consumer\n","import React, { Component } from 'react'\nimport { AppConsumer, AppContext } from '../../context/AppContext'\n\nexport default class Cell extends Component {\n\n  getClasses () {\n    let from = this.context.state.selection.fromPosition\n    if (from && from.x === this.props.position.x && from.y === this.props.position.y) {\n      return 'cell from-cell'\n    }\n    let target = this.context.state.selection.targetPosition\n    if (target && target.x === this.props.position.x && target.y === this.props.position.y) {\n      return 'cell target-cell'\n    }\n    return 'cell'\n  }\n\n  getImageSrc () {\n    let color = this.props.piece.player === 0 ? 'blue' : 'red'\n    let kind = this.props.piece.is_master ? 'master' : 'apprentice'\n    return '/img/piece-' + color + '-' + kind + '-front.png'\n  }\n\n  render () {\n    return (\n      <AppConsumer>\n        {({ state, mutations }) => (\n          <div\n            className={this.getClasses()}\n            onClick={() => mutations.onCellClick(this.props.piece, this.props.position)}>\n            {this.props.piece && <img className='piece' src={this.getImageSrc()} alt='piece' />}\n          </div>\n        )}\n      </AppConsumer>\n    )\n  }\n}\n\nCell.contextType = AppContext\n","import React, { Component } from 'react'\nimport { AppConsumer, AppContext } from '../../context/AppContext'\n\nexport default class Card extends Component {\n\n  getClasses () {\n    let classes = 'card'\n    if (this.context.state.selection.cardName === this.props.name) {\n      classes += ' selected-card'\n    }\n    if (this.props.mini) {\n      classes += ' mini-card'\n    }\n    return classes\n  }\n\n  getImageSrc () {\n    return '/img/card-' + this.props.name.toLowerCase() + '.jpg'\n  }\n\n  render () {\n    return (\n      <AppConsumer>\n        {({ state, mutations }) => (\n          <div className='card-container'>\n            <img onClick={() => mutations.onCardClick(this.props.name)}\n                 className={this.getClasses()}\n                 src={this.getImageSrc()}\n                 alt='card' />\n          </div>\n        )}\n      </AppConsumer>\n    )\n  }\n}\n\nCard.contextType = AppContext\n","import React, { Component } from 'react'\nimport { AppConsumer, AppContext } from '../../context/AppContext'\nimport Card from './Card'\n\nexport default class Player extends Component {\n\n  getClasses () {\n    return this.props.playerIndex === '0' ? 'player-panel' : 'player-panel opponent-player-panel'\n  }\n\n  render () {\n    return (\n      <AppConsumer>\n        {({ state }) => (\n          <div className={this.getClasses()}>\n            { parseInt(this.props.playerIndex) === state.game.current_player\n              ? <Card mini name={state.game.public_card.name} />\n              : <div className='mini-card'></div>\n            }\n            <div className='cards'>\n              <Card name={state.game.players[this.props.playerIndex].cards[0].name} />\n              <Card name={state.game.players[this.props.playerIndex].cards[1].name} />\n            </div>\n          </div>\n        )}\n      </AppConsumer>\n    )\n  }\n}\n\nPlayer.contextType = AppContext\n","import React, { Component } from 'react'\nimport { AppConsumer, AppContext } from '../../context/AppContext'\nimport Cell from './Cell'\nimport Player from './Player'\n\nexport default class Field extends Component {\n  getCell (x, y) {\n    let cellIndex = y*5+x\n    let piece = this.context.state.game.field.pieces[cellIndex]\n    let position = {x: x, y: y}\n    return <Cell position={position} piece={piece} key={cellIndex} />\n  }\n\n  render () {\n    return (\n      <AppConsumer>\n        {({ state, mutations }) => (\n          <div className='field-panel-wrapper'>\n            <div className='field-panel'>\n              <Player playerIndex='1' />\n              <div className='field'>\n                <div className='field-rows'>\n                {[4,3,2,1,0].map((y) => {\n                  return (\n                    <div key={y} className='field-columns'>\n                    {[0,1,2,3,4].map((x) => this.getCell(x, y))}\n                    </div>\n                  )\n                })}\n                </div>\n              </div>\n              <Player playerIndex='0' />\n            </div>\n          </div>\n        )}\n      </AppConsumer>\n    )\n  }\n}\n\nField.contextType = AppContext\n","import React, { Component } from 'react'\nimport { AppConsumer, AppContext } from '../../context/AppContext'\n\nexport default class WelcomeDialog extends Component {\n  render () {\n    return (\n      <AppConsumer>\n        {({ state, mutations }) => (\n          <div className='dialog-wrapper'>\n            <div className='dialog'>\n                <h1>Welcome!</h1>\n                <p>This is a simple game called Onitama. I did not invent it, I merely implemented this online version of it as s hobby project.</p>\n                <h2>How to play:</h2>\n                <p>You are given control over a Kung Fu master and his apprentices.</p>\n                <p><b>Your goal is to either beat the enemy master with any of your pieces OR to reach the top middle square with your own master.</b></p>\n                <p>You move according to the <i>movement cards</i> presented on your player tableau:</p>\n                <p><b>Select one of your pieces, a movement card and a target square. The movement cards allow for different moves, as indicated by grey squares.</b></p>\n                <p>The target square must not be occupied by one of your own pieces already.\n                After your turn, you lose the movement card you used but get the one that your opponent had used in his last turn.\n                The five movement cards are randomly selected from sixteen existing ones, each representing a different style of Kung Fu.</p>\n                <p><b>Enjoy!</b></p>\n                <button className='btn' onClick={mutations.startNewGame}>Start Game</button>\n            </div>\n          </div>\n        )}\n      </AppConsumer>\n    )\n  }\n}\n\nWelcomeDialog.contextType = AppContext\n","import React, { Component } from 'react'\nimport { AppConsumer, AppContext } from '../../context/AppContext'\n\nexport default class GameOverDialog extends Component {\n\n  getRandomMessage(win) {\n    let messages = win ? [\n        \"The enemy didn't stand a chance, if we're honest.\",\n        \"You beat the computer on its own turf!\",\n        \"Bruce Lee himself couldn't have done it any better.\",\n        \"And what a finishing move it was. I'll never forget.\",\n        \"The enemy is probably scared of you now.\",\n        \"You came, you saw, you won.\",\n        \"Flawless execution, that's for sure.\",\n        \"That look on the enemy master's face, priceless!\",\n        \"I'm impressed. Can you do it again?\",\n        \"Nobody messes with you.\",\n    ] : [\n        \"He probably only won because he was better than you.\",\n        \"That was super unfair. He had all the good cards.\",\n        \"But you fought well... At least I though so.\",\n        \"Well, at least you tried. Try again, though?\",\n        \"You were definitely ahead in the first half.\",\n        \"I did not see this coming, honestly.\",\n        \"You cannot give up halfway through. This is Kung Fu.\",\n        \"Your effort will be remembered, though.\",\n        \"It happened so quickly! How did he do that?\",\n        \"You learned something, that is what counts.\",\n    ]\n    let randomIndex = Math.floor(Math.random() * messages.length)\n    return messages[randomIndex]\n  }\n\n  render () {\n    let win = this.context.state.game.current_player === 1\n    return (\n      <AppConsumer>\n        {({ state, mutations }) => (\n          <div className='dialog-wrapper'>\n            <div className='dialog'>\n              <h1>You {win ? 'won' : 'lost'}!</h1>\n              <p>{this.getRandomMessage(win)}</p>\n              <button className='btn' onClick={mutations.startNewGame}>Start new game</button>\n            </div>\n          </div>\n        )}\n      </AppConsumer>\n    )\n  }\n}\n\nGameOverDialog.contextType = AppContext\n","import React, { Component } from 'react'\n\nimport Field from '../panels/Field'\nimport { AppConsumer, AppContext } from '../../context/AppContext'\nimport WelcomeDialog from './WelcomeDialog'\nimport GameOverDialog from './GameOverDialog'\n\nexport default class Game extends Component {\n  render () {\n    return (\n      <AppConsumer>\n        {({ state, mutations }) => (\n          <div>\n            {state.game === null && <WelcomeDialog />}\n            {state.game !== null && <Field />}\n            {state.game !== null && state.options && state.options.length === 0 && <GameOverDialog />}\n          </div>\n        )}\n      </AppConsumer>\n    )\n  }\n}\n\nGame.contextType = AppContext\n","import React, { Component } from 'react'\nimport { BrowserRouter as Router, Redirect, Route, Switch } from 'react-router-dom'\nimport { AppProvider } from './context/AppContext'\n\nimport 'bootstrap/dist/css/bootstrap.css'\nimport './assets/css/main.sass'\n\nimport Game from './components/views/Game'\n\nclass App extends Component {\n  render () {\n    return (\n      <AppProvider value={this.state}>\n        <Router>\n          <div className='App'>\n            <Switch>\n              <Route path='/' component={Game} exact />\n              <Route>\n                <Redirect to='/' />\n              </Route>\n            </Switch>\n          </div>\n        </Router>\n      </AppProvider>\n    )\n  }\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}